# Clawker Configuration
# Documentation: https://github.com/schmitthub/clawker

version: "1"
project: "{{.ProjectName}}"

build:
  # Base image for the container
  image: "node:20-slim"
  # Optional: path to custom Dockerfile (relative to project root)
  # dockerfile: "./.devcontainer/Dockerfile"
  # System packages to install (apt-get on Debian, apk on Alpine)
  packages:
    - git
    - curl
    - ripgrep

agent:
  # Files to make available to Claude (prompts, docs, memory)
  includes:
    # - "./README.md"
    # - "~/.claude/memory.md"
  # editor: "vim"    # defaults to "nano" if not set
  # visual: "vim"    # defaults to "nano" if not set
  # Environment variables for the agent
  env:
    # NODE_ENV: "development"
  # Shell commands to run once inside the container after initialization.
  # Runs before the main process starts (with set -e). Any failure aborts container startup.
  # post_init: |
  #   claude mcp add -- npx -y @anthropic-ai/claude-code-mcp
  #   npm install -g typescript

workspace:
  # Container path where your code is mounted
  remote_path: "/workspace"
  # Default mode: "bind" (live sync) or "snapshot" (isolated copy)
  default_mode: "bind"

security:
  # Network firewall configuration
  firewall:
    # Enable network firewall (blocks outbound traffic by default)
    enable: true
    # Add domains to the default allowed list
    # add_domains:
    #   - "api.openai.com"
    # Remove domains from the default allowed list
    # remove_domains:
    #   - "registry.npmjs.org"
    # Override the entire allowed list (ignores add/remove, skips GitHub IP fetching)
    # override_domains:
    #   - "api.anthropic.com"
    #   - "api.github.com"
  # Mount Docker socket for Docker-in-Docker (security risk if enabled)
  docker_socket: false
