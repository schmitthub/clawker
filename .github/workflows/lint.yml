# SARIF uploads (re-enable when repo goes public):
#
#   permissions:
#     security-events: write
#     actions: read
#
#   In golangci-lint step, add:
#     args: --output.sarif.path=golangci-lint.sarif
#
#   After golangci-lint step, add:
#     - name: Upload golangci-lint SARIF
#       if: always() && hashFiles('golangci-lint.sarif') != ''
#       uses: github/codeql-action/upload-sarif@v3
#       with:
#         sarif_file: golangci-lint.sarif
#         category: golangci-lint

name: Lint

on:
  workflow_call:

permissions:
  contents: read

jobs:
  golangci-lint:
    name: golangci-lint
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-go@v5
        with:
          go-version-file: go.mod

      - name: golangci-lint
        uses: golangci/golangci-lint-action@v8
        with:
          version: v2.9.0
