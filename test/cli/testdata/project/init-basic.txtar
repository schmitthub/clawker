# Test non-interactive project init
# Verifies: clawker project init creates config files

# No existing clawker.yaml in work directory
! exists clawker.yaml
! exists .clawkerignore

# Run project init with --yes flag for non-interactive mode
exec clawker project init testproj-$RANDOM_STRING --yes
stderr 'Setting up clawker project'
stderr 'Created: clawker.yaml'
stderr 'Created: .clawkerignore'
stderr 'testproj-'$RANDOM_STRING

# Verify files were created
exists clawker.yaml
exists .clawkerignore

# Verify project is registered in the registry
grep 'testproj-' $HOME/.local/clawker/projects.yaml
