# Test worktree list command
# Verifies: worktree list shows created worktrees

# Setup config directory
mkdir $HOME/.local/clawker
replace clawker.yaml PROJECT=$PROJECT

# Initialize git repository
exec git init
exec git config user.email test@test.com
exec git config user.name 'Test User'

# Create initial commit
cp README.md README.md
exec git add README.md clawker.yaml
exec git commit -m 'Initial commit'

# Register the project
exec clawker project register

# List worktrees (should be empty initially)
exec clawker worktree list
stderr 'No worktrees found for this project'

-- clawker.yaml --
version: "1"
project: "$PROJECT"

build:
  image: "alpine:latest"

security:
  firewall:
    enable: false

-- README.md --
# Test Project
