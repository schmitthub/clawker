# Test stop timeout flag (--stop-timeout)
# Verifies: Stop timeout is set on the container config

# Register cleanup
defer clawker container rm --force --agent stopt-$RANDOM_STRING

# Create container with stop timeout
exec clawker container create --agent stopt-$RANDOM_STRING --stop-timeout 30 alpine:latest sleep 3600

# Verify stop timeout via inspect
exec clawker container inspect --format '{{.Config.StopTimeout}}' --agent stopt-$RANDOM_STRING
stdout '30'

-- clawker.yaml --
version: "1"

build:
  image: "alpine:latest"

security:
  firewall:
    enable: false
